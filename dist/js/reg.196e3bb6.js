(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reg"],{"28b3":function(t,a,e){"use strict";e("969c")},"7ded":function(t,a,e){"use strict";e.d(a,"b",(function(){return r})),e.d(a,"a",(function(){return o})),e.d(a,"c",(function(){return n})),e.d(a,"d",(function(){return l})),e.d(a,"e",(function(){return u}));var s=e("5530"),i=e("b775"),r=function(t){return i["a"].get("/public/getCaptcha",{params:{sid:t}})},o=function(t){return i["a"].post("/login/forget",Object(s["a"])({},t))},n=function(t){return i["a"].post("/login/login",Object(s["a"])({},t))},l=function(t){return i["a"].post("/login/reg",Object(s["a"])({},t))},u=function(t){return i["a"].post("/login/reset",Object(s["a"])({},t))}},"969c":function(t,a,e){},b8b8:function(t,a,e){"use strict";e.r(a);e("b0c0");var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"layui-container fly-marginTop"},[a("div",{staticClass:"fly-panel fly-panel-user",attrs:{pad20:""}},[a("div",{staticClass:"layui-tab layui-tab-brief",attrs:{"lay-filter":"user"}},[a("ul",{staticClass:"layui-tab-title"},[a("li",[a("router-link",{attrs:{to:{name:"login"}}},[t._v("登入")])],1),a("li",{staticClass:"layui-this"},[t._v("注册")])]),a("div",{staticClass:"layui-form layui-tab-content",staticStyle:{padding:"20px 0"},attrs:{id:"LAY_ucm"}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.validate;return[a("div",{staticClass:"layui-tab-item layui-show"},[a("div",{staticClass:"layui-form layui-form-pane"},[a("form",{attrs:{method:"post"}},[a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{name:"username",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_email"}},[t._v("用户名")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"layui-input",attrs:{type:"text",name:"username",placeholder:"请输入用户名",autocomplete:"off"},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})]),a("div",{staticClass:"layui-form-mid layui-word-aux"},[t._v("将会成为您唯一的登入名")])]),a("div",{staticClass:"layui-row"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_username"}},[t._v("昵称")]),a("validation-provider",{attrs:{name:"name",rules:"required|min:4|name"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"layui-input",attrs:{type:"text",name:"name",placeholder:"请输入昵称",autocomplete:"off"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})]),a("div",{staticClass:"layui-form-mid"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{name:"password",rules:"required|min:6|max:16|confirmed:confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_pass"}},[t._v("密码")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"layui-input",attrs:{type:"password",name:"password",placeholder:"请输入密码",autocomplete:"off"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),a("div",{staticClass:"layui-form-mid layui-word-aux"},[t._v("6到16个字符")])]),a("div",{staticClass:"layui-row"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_repass"}},[t._v("确认密码")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],staticClass:"layui-input",attrs:{type:"password",name:"repassword",placeholder:"请输入密码",autocomplete:"off"},domProps:{value:t.repassword},on:{input:function(a){a.target.composing||(t.repassword=a.target.value)}}})])]),a("div",{staticClass:"layui-row"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{name:"code",rules:"required|length:4"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_vercode"}},[t._v("验证码")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"layui-input",attrs:{type:"text",name:"code",placeholder:"请输入验证码",autocomplete:"off"},domProps:{value:t.code},on:{input:function(a){a.target.composing||(t.code=a.target.value)}}})]),a("div",{},[a("span",{staticClass:"svg",staticStyle:{color:"#c00"},domProps:{innerHTML:t._s(t.svg)},on:{click:function(a){return t._getCode()}}})])]),a("div",{staticClass:"layui-form-mid"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("button",{staticClass:"layui-btn",attrs:{type:"button"},on:{click:function(a){s().then(t.submit)}}},[t._v("立即注册")])]),a("div",{staticClass:"layui-form-item fly-form-app"},[a("span",[t._v("或者直接使用社交账号快捷注册")]),a("a",{staticClass:"iconfont icon-qq",attrs:{href:"",onclick:"layer.msg('正在通过QQ登入', {icon:16, shade: 0.1, time:0})",title:"QQ登入"}}),a("a",{staticClass:"iconfont icon-weibo",attrs:{href:"",onclick:"layer.msg('正在通过微博登入', {icon:16, shade: 0.1, time:0})",title:"微博登入"}})])])])])]}}])})],1)])])])},i=[],r=e("c14f"),o=e("1da1"),n=(e("14d9"),e("7ded")),l=e("7bb1"),u={name:"reg",data:function(){return{username:"",name:"",password:"",repassword:"",code:"",svg:""}},components:{ValidationProvider:l["b"],ValidationObserver:l["a"]},mounted:function(){this._getCode()},methods:{_getCode:function(){var t=this,a=this.$store.state.sid;Object(n["b"])(a).then((function(a){0===a.code&&(t.svg=a.data)}))},submit:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function a(){var e;return Object(r["a"])().w((function(a){while(1)switch(a.n){case 0:return a.n=1,t.$refs.observer.validate();case 1:if(e=a.v,e){a.n=2;break}return a.a(2);case 2:Object(n["d"])({username:t.username,password:t.password,name:t.name,code:t.code,sid:t.$store.state.sid}).then((function(a){0===a.code?(t.username="",t.password="",t.repassword="",t.name="",t.code="",requestAnimationFrame((function(){t.$refs.observer.reset()})),t.$alert("注册成功"),setTimeout((function(){t.$router.push("/login")}),1e3)):t.$refs.observer.setErrors(a.msg)}));case 3:return a.a(2)}}),a)})))()}}},c=u,d=(e("28b3"),e("2877")),m=Object(d["a"])(c,s,i,!1,null,"06899bf0",null);a["default"]=m.exports}}]);