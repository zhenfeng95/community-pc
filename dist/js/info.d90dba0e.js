(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["info"],{"20b9":function(e,t,a){"use strict";a("7d39")},"7d39":function(e,t,a){},b645:function(e,t,a){"use strict";a.r(t);a("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"layui-form layui-form-pane layui-tab-item layui-show"},[t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(a){a.validate;return[t("div",{staticClass:"layui-form-item"},[t("validation-provider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.errors;return[t("label",{staticClass:"layui-form-label",attrs:{for:"L_email"}},[e._v("邮箱")]),t("div",{staticClass:"layui-input-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"layui-input",attrs:{type:"text",name:"email"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"layui-form-mid"},[t("span",{staticStyle:{color:"#c00"}},[e._v(e._s(n[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"layui-form-item"},[t("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.errors;return[t("label",{staticClass:"layui-form-label",attrs:{for:"L_username"}},[e._v("昵称")]),t("div",{staticClass:"layui-input-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"layui-input",attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),t("div",{staticClass:"layui-form-mid"},[t("span",{staticStyle:{color:"#c00"}},[e._v(e._s(n[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"layui-form-item"},[t("label",{staticClass:"layui-form-label",attrs:{for:"L_city"}},[e._v("城市")]),t("div",{staticClass:"layui-input-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.location,expression:"location"}],staticClass:"layui-input",attrs:{type:"text"},domProps:{value:e.location},on:{input:function(t){t.target.composing||(e.location=t.target.value)}}})])]),t("div",{staticClass:"layui-form-item"},[t("label",{staticClass:"layui-form-label",attrs:{for:"L_city"}},[e._v("性别")]),t("div",{staticClass:"layui-input-inline gray mt1 ml1"},[t("label",{staticClass:"mr1",attrs:{for:"gender1"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],attrs:{id:"gender1",type:"radio",name:"sex",value:"0",title:"男"},domProps:{checked:e._q(e.gender,"0")},on:{change:function(t){e.gender="0"}}}),t("i",{staticClass:"layui-icon layui-icon-circle",class:{"layui-icon-radio":"0"===e.gender}}),e._v(" 男 ")]),t("label",{attrs:{for:"gender2"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],attrs:{id:"gender2",type:"radio",name:"sex",value:"1",title:"女"},domProps:{checked:e._q(e.gender,"1")},on:{change:function(t){e.gender="1"}}}),t("i",{staticClass:"layui-icon layui-icon-circle",class:{"layui-icon-radio":"1"===e.gender}}),e._v(" 女 ")])])]),t("div",{staticClass:"layui-form-item layui-form-text"},[t("label",{staticClass:"layui-form-label",attrs:{for:"L_sign"}},[e._v("签名")]),t("div",{staticClass:"layui-input-block"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.regmark,expression:"regmark"}],staticClass:"layui-textarea",staticStyle:{height:"80px"},attrs:{placeholder:"随便写些什么刷下存在感"},domProps:{value:e.regmark},on:{input:function(t){t.target.composing||(e.regmark=t.target.value)}}})])]),t("div",{staticClass:"layui-form-item"},[t("button",{staticClass:"layui-btn",on:{click:function(t){return e.submit()}}},[e._v("确认修改")])])]}}])})],1)},i=[],r=a("c14f"),s=a("5530"),o=a("1da1"),u=a("c24f"),l=a("7bb1"),c={name:"myinfo",components:{ValidationProvider:l["b"],ValidationObserver:l["a"]},data:function(){return{username:"",name:"",location:"",gender:"",regmark:""}},mounted:function(){var e=this.$store.state.userInfo,t=e.username,a=e.name,n=e.location,i=e.gender,r=e.regmark;this.username=t||"",this.name=a||"",this.location=n||"",this.gender=i||"",this.regmark=r||""},methods:{submit:function(){var e=this;return Object(o["a"])(Object(r["a"])().m((function t(){var a;return Object(r["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$refs.observer.validate();case 1:if(a=t.v,a){t.n=2;break}return t.a(2);case 2:Object(u["k"])({username:e.username,name:e.name,location:e.location,gender:e.gender,regmark:e.regmark}).then((function(t){200===t.code&&(e.$store.commit("setUserInfo",Object(s["a"])(Object(s["a"])({},e.$store.state.userInfo),{username:e.username,name:e.name,location:e.location,gender:e.gender,regmark:e.regmark})),e.$alert("更新成功！"))}));case 3:return t.a(2)}}),t)})))()}}},m=c,d=(a("20b9"),a("2877")),f=Object(d["a"])(m,n,i,!1,null,"46f42f47",null);t["default"]=f.exports},c24f:function(e,t,a){"use strict";a.d(t,"m",(function(){return o})),a.d(t,"k",(function(){return u})),a.d(t,"l",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"h",(function(){return f})),a.d(t,"c",(function(){return v})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return y})),a.d(t,"i",(function(){return g})),a.d(t,"g",(function(){return b})),a.d(t,"j",(function(){return C}));var n=a("5530"),i=a("b775"),r=a("4328"),s=a.n(r),o=function(){return i["a"].get("/user/fav")},u=function(e){return i["a"].post("/user/basic",e)},l=function(e){return i["a"].get("/public/resetEmail?"+s.a.stringify(e))},c=function(e){return i["a"].post("/user/changePassword",Object(n["a"])({},e))},m=function(e){return i["a"].get("/user/setCollect?"+s.a.stringify(e))},d=function(e){return i["a"].get("/user/collect?"+s.a.stringify(e))},f=function(e){return i["a"].get("/user/post?"+s.a.stringify(e))},g=function(e){return i["a"].get("/public/latestPost?"+s.a.stringify(e))},v=function(e){return i["a"].get("/user/deletePost?"+s.a.stringify(e))},p=function(e){return i["a"].get("/public/info?"+s.a.stringify(e))},y=function(e){return i["a"].get("/public/latestComment?"+s.a.stringify(e))},b=function(e){return i["a"].get("/user/getmsg?"+s.a.stringify(e))},C=function(e){return i["a"].get("/user/setmsg?"+s.a.stringify(e))}}}]);